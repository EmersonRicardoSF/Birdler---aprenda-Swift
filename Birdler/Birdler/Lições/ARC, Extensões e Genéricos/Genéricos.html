
<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<p>Os genéricos em Swift permitem que você escreva funções, métodos e tipos que podem trabalhar com qualquer tipo especificado. No contexto do UIKit, genéricos são usados para criar componentes de interface do usuário mais reutilizáveis e flexíveis. Abaixo estão alguns exemplos de como usar genéricos no UIKit.</p>

    <h2>Exemplos de Genéricos no UIKit</h2>

    <h3>1. Reutilização de Células de TableView e CollectionView</h3>
    <p>Um uso comum de genéricos no UIKit é para reutilização de células em <code>UITableView</code> e <code>UICollectionView</code>.</p>

    <h4>TableView</h4>
    <pre><code>
import UIKit

extension UITableView {
    func dequeueReusableCell<T: UITableViewCell>(withIdentifier identifier: String, for indexPath: IndexPath) -> T {
        guard let cell = dequeueReusableCell(withIdentifier: identifier, for: indexPath) as? T else {
            fatalError("Could not dequeue cell with identifier: \(identifier)")
        }
        return cell
    }
}
    </code></pre>

    <h4>CollectionView</h4>
    <pre><code>
import UIKit

extension UICollectionView {
    func dequeueReusableCell<T: UICollectionViewCell>(withReuseIdentifier identifier: String, for indexPath: IndexPath) -> T {
        guard let cell = dequeueReusableCell(withReuseIdentifier: identifier, for: indexPath) as? T else {
            fatalError("Could not dequeue cell with identifier: \(identifier)")
        }
        return cell
    }
}
    </code></pre>

    <h3>2. View Controller Factory</h3>
    <p>Criar uma fábrica de view controllers que pode instanciar view controllers de forma genérica.</p>
    <pre><code>
import UIKit

protocol StoryboardIdentifiable {
    static var storyboardIdentifier: String { get }
}

extension StoryboardIdentifiable where Self: UIViewController {
    static var storyboardIdentifier: String {
        return String(describing: self)
    }
}

extension UIStoryboard {
    func instantiateViewController<T: UIViewController>() -> T where T: StoryboardIdentifiable {
        guard let viewController = instantiateViewController(withIdentifier: T.storyboardIdentifier) as? T else {
            fatalError("Could not instantiate view controller with identifier: \(T.storyboardIdentifier)")
        }
        return viewController
    }
}
    </code></pre>

    <h3>3. Genéricos para Customização de Views</h3>
    <p>Criar métodos genéricos para configurar e customizar views.</p>
    <pre><code>
import UIKit

extension UIView {
    func addSubview<T: UIView>(_ subview: T, configure: (T) -> Void) {
        addSubview(subview)
        configure(subview)
    }
}
    </code></pre>

    <h2>Exemplo Prático com UIKit e Genéricos</h2>
    <p>Vamos combinar alguns desses conceitos em um exemplo prático de uma <code>UITableViewController</code> que usa genéricos para dequeuing de células.</p>
    <pre><code>
import UIKit

class MyTableViewController: UITableViewController {
    override func viewDidLoad() {
        super.viewDidLoad()
        tableView.register(UITableViewCell.self, forCellReuseIdentifier: "Cell")
    }

    override func tableView(_ tableView: UITableView, numberOfRowsInSection section: Int) -> Int {
        return 10
    }

    override func tableView(_ tableView: UITableView, cellForRowAt indexPath: IndexPath) -> UITableViewCell {
        let cell: UITableViewCell = tableView.dequeueReusableCell(withIdentifier: "Cell", for: indexPath)
        cell.textLabel?.text = "Row \(indexPath.row)"
        return cell
    }
}

extension UITableView {
    func dequeueReusableCell<T: UITableViewCell>(withIdentifier identifier: String, for indexPath: IndexPath) -> T {
        guard let cell = dequeueReusableCell(withIdentifier: identifier, for: indexPath) as? T else {
            fatalError("Could not dequeue cell with identifier: \(identifier)")
        }
        return cell
    }
}
    </code></pre>

    <h2>Conclusão</h2>
    <p>Os genéricos são uma poderosa funcionalidade de Swift que permitem criar código reutilizável e flexível. No contexto do UIKit, eles são extremamente úteis para melhorar a reutilização de componentes de interface do usuário e garantir que o código seja mais seguro e fácil de manter.</p>
</body>
</html>
